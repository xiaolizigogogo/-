# 按钮控制系统使用指南

## 系统概述

按钮控制系统用加减按钮替代了传统的旋钮，每个参数配备一对"+"和"-"按钮，配合数码管显示，实现精确的参数调节。

## 硬件布局

### 按钮布局
```
┌─────────┬─────────┬─────────┬─────────┐
│ 参数1+  │ 参数2+  │ 参数3+  │ 参数4+  │
├─────────┼─────────┼─────────┼─────────┤
│ 参数1-  │ 参数2-  │ 参数3-  │ 参数4-  │
├─────────┼─────────┼─────────┼─────────┤
│ 参数5+  │ 参数6+  │ 参数7+  │ 配对    │
├─────────┼─────────┼─────────┼─────────┤
│ 参数5-  │ 参数6-  │ 参数7-  │ 重置    │
├─────────┼─────────┼─────────┼─────────┤
│ 紧急停止│ 显示切换│         │         │
└─────────┴─────────┴─────────┴─────────┘
```

### 参数说明
1. **参数1**: 转向角度 (0-180度)
2. **参数2**: 转向速度 (0-255)
3. **参数3**: 电机速度 (0-255)
4. **参数4**: 伺服角度 (0-180度)
5. **参数5**: LED亮度 (0-255)
6. **参数6**: 延时时间 (100-10000ms)
7. **参数7**: 其他参数 (0-100)

## 基本操作

### 参数调节
1. **短按**: 按一下"+"或"-"按钮，参数值增加或减少一个步长
2. **长按**: 按住按钮超过0.5秒，参数值会快速连续变化
3. **范围限制**: 参数值会自动限制在有效范围内

### 显示模式
- **独立显示模式**: 参数1-4有独立的数码管显示
- **分时显示模式**: 参数4-7共享一个数码管，通过显示切换按钮循环显示

### 功能按钮
- **配对按钮**: 
  - 未配对时：开始配对模式
  - 已配对时：切换显示模式
- **重置按钮**: 
  - 未配对时：取消配对
  - 已配对时：重置所有参数为默认值
- **紧急停止按钮**: 立即停止所有输出
- **显示切换按钮**: 在分时显示模式下切换显示的参数

## LED状态指示

### 配对状态
- **红灯常亮**: 未配对
- **黄灯慢闪**: 等待配对确认
- **绿灯常亮**: 已配对

### 紧急状态
- **红灯快闪**: 紧急停止状态

## 遥控器操作

### 配对流程
1. 设备上按"配对"按钮，进入配对模式（黄灯慢闪）
2. 遥控器发送配对请求
3. 遥控器发送配对确认
4. 配对成功（绿灯常亮）

### 遥控器控制
配对成功后，遥控器可以：
- 远程调节所有参数
- 控制电机启停
- 设置伺服角度
- 调节LED亮度
- 发送紧急停止命令

## 参数步长设置

每个参数的调节步长：
- 转向角度: 5度
- 转向速度: 10
- 电机速度: 10
- 伺服角度: 5度
- LED亮度: 20
- 延时时间: 500ms
- 其他参数: 5

## 数据保存

- 所有参数值自动保存到EEPROM
- 配对信息持久保存
- 断电后参数值不丢失

## 故障排除

### 常见问题
1. **按钮无响应**
   - 检查按钮连接
   - 确认按钮按下时接触良好

2. **数码管显示异常**
   - 检查74HC595连接
   - 确认数码管共阴极/共阳极类型

3. **遥控器无法配对**
   - 确认遥控器ID正确
   - 检查433MHz接收模块
   - 重新进行配对流程

4. **参数值异常**
   - 按重置按钮恢复默认值
   - 检查EEPROM是否损坏

### 调试功能
通过串口监视器可以：
- 查看系统状态
- 监控参数变化
- 调试遥控器命令
- 查看配对信息

## 安全注意事项

1. **紧急停止**: 任何时候都可以按紧急停止按钮
2. **参数范围**: 系统会自动限制参数在安全范围内
3. **断电保护**: 重要参数已保存，断电不会丢失
4. **操作确认**: 长按操作需要确认，避免误操作

## 维护建议

1. **定期检查**: 每月检查按钮和数码管状态
2. **清洁保养**: 定期清洁按钮和显示面板
3. **参数备份**: 重要参数设置建议记录备份
4. **固件更新**: 关注系统固件更新

## 技术规格

- **工作电压**: 5V
- **按钮类型**: 轻触开关
- **数码管**: 共阴极2位数码管
- **驱动芯片**: 74HC595
- **存储**: EEPROM
- **通信**: 433MHz无线
- **响应时间**: <10ms
- **使用寿命**: >100万次按键

## 联系支持

如遇到技术问题，请提供：
1. 系统状态信息
2. 错误现象描述
3. 操作步骤记录
4. 硬件连接图 
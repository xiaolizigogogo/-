# Arduino 语音控制硬件配置指南

## 方案一：ESP32 + 云语音识别

### 硬件清单
- ESP32开发板
- I2S麦克风模块（如INMP441）
- LED指示灯
- 舵机
- 直流电机
- 电机驱动模块（如L298N）
- 面包板和连接线

### 接线图
```
ESP32引脚连接：
┌─────────────────┐
│     ESP32       │
├─────────────────┤
│ 3.3V  ──→ 麦克风VCC │
│ GND   ──→ 麦克风GND │
│ GPIO26 ──→ 麦克风BCLK│
│ GPIO25 ──→ 麦克风LRCL│
│ GPIO34 ──→ 麦克风SD  │
│                 │
│ GPIO2  ──→ LED+     │
│ GPIO13 ──→ 舵机信号线│
│ GPIO14 ──→ 电机驱动IN1│
│ GPIO15 ──→ 电机驱动IN2│
│ 5V    ──→ 舵机电源+  │
│ 5V    ──→ 电机驱动VCC│
│ GND   ──→ 舵机电源-  │
│ GND   ──→ 电机驱动GND│
└─────────────────┘
```

### 配置步骤
1. **安装Arduino IDE ESP32开发板**
   - 文件 → 首选项 → 附加开发板管理器网址
   - 添加：`https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json`
   - 工具 → 开发板 → 开发板管理器 → 搜索ESP32 → 安装

2. **安装必要库**
   - ArduinoJson库
   - WiFi库（ESP32自带）
   - HTTPClient库（ESP32自带）

3. **配置百度AI**
   - 注册百度AI开放平台账号
   - 创建语音识别应用
   - 获取API_KEY和SECRET_KEY
   - 在代码中填入相应密钥

## 方案二：Arduino + 离线语音模块

### 硬件清单
- Arduino Uno/Nano
- WTN6040语音识别模块
- LED指示灯
- 舵机
- 直流电机
- 电机驱动模块
- 蜂鸣器
- 面包板和连接线

### 接线图
```
Arduino引脚连接：
┌─────────────────┐
│   Arduino Uno   │
├─────────────────┤
│ 5V   ──→ WTN6040 VCC │
│ GND  ──→ WTN6040 GND │
│ D2   ──→ WTN6040 TX  │
│ D3   ──→ WTN6040 RX  │
│                 │
│ D13  ──→ LED+        │
│ D9   ──→ 舵机信号线   │
│ D5   ──→ 电机驱动IN1  │
│ D6   ──→ 电机驱动IN2  │
│ D8   ──→ 蜂鸣器+      │
│ 5V   ──→ 舵机电源+    │
│ 5V   ──→ 电机驱动VCC  │
│ GND  ──→ 舵机电源-    │
│ GND  ──→ 电机驱动GND  │
│ GND  ──→ 蜂鸣器-      │
└─────────────────┘
```

### WTN6040模块配置
1. **硬件连接**
   - VCC接5V电源
   - GND接地
   - TX接Arduino D2
   - RX接Arduino D3

2. **语音训练**
   - 使用WTN6040配套软件
   - 录制8个关键词：开灯、关灯、左转、右转、前进、后退、停止、状态
   - 每个关键词录制3-5次以提高识别率

3. **模块设置**
   - 设置波特率为9600
   - 设置识别模式为连续识别
   - 设置灵敏度为中等

## 方案三：Arduino + 蓝牙语音控制

### 硬件清单
- Arduino Uno/Nano
- HC-05/HC-06蓝牙模块
- 手机（安装语音控制APP）
- LED、舵机、电机等执行器

### 接线图
```
Arduino + 蓝牙连接：
┌─────────────────┐
│   Arduino Uno   │
├─────────────────┤
│ 5V   ──→ HC-05 VCC │
│ GND  ──→ HC-05 GND │
│ D10  ──→ HC-05 TX  │
│ D11  ──→ HC-05 RX  │
│                 │
│ D13  ──→ LED+      │
│ D9   ──→ 舵机      │
│ D5   ──→ 电机IN1   │
│ D6   ──→ 电机IN2   │
└─────────────────┘
```

### 手机APP配置
1. **下载语音控制APP**
   - 推荐：Arduino Voice Control
   - 或：蓝牙串口助手 + 语音输入

2. **配置蓝牙连接**
   - 搜索HC-05模块
   - 配对密码：1234或0000
   - 连接成功后显示"Connected"

3. **设置语音指令**
   - 开灯 → 发送"LED_ON"
   - 关灯 → 发送"LED_OFF"
   - 左转 → 发送"SERVO_LEFT"
   - 右转 → 发送"SERVO_RIGHT"

## 常见问题解决

### 1. 语音识别不准确
- **解决方案**：
  - 调整麦克风位置，避免噪音干扰
  - 重新训练语音关键词
  - 调整识别灵敏度
  - 使用降噪麦克风

### 2. 网络连接问题（云方案）
- **解决方案**：
  - 检查WiFi密码是否正确
  - 确认网络信号强度
  - 检查API密钥是否有效
  - 增加网络重连机制

### 3. 硬件连接问题
- **解决方案**：
  - 检查所有接线是否牢固
  - 确认电源电压是否稳定
  - 检查引脚定义是否正确
  - 使用万用表测试连接

### 4. 代码编译错误
- **解决方案**：
  - 确认已安装所有必要库
  - 检查库版本兼容性
  - 确认开发板选择正确
  - 检查代码语法错误

## 性能优化建议

### 1. 提高识别率
- 使用高质量麦克风
- 在安静环境中使用
- 调整关键词长度适中
- 定期重新训练语音模型

### 2. 降低延迟
- 使用本地语音识别
- 优化网络连接
- 减少不必要的延时
- 使用中断处理

### 3. 增强功能
- 添加语音反馈
- 实现多级指令
- 增加安全验证
- 支持自定义指令

## 扩展功能

### 1. 多语言支持
- 支持英文、中文等多种语言
- 根据用户设置自动切换
- 支持方言识别

### 2. 智能家居集成
- 连接智能灯泡
- 控制空调、电视
- 集成安防系统
- 支持场景模式

### 3. 机器学习功能
- 学习用户习惯
- 预测用户需求
- 自适应调节参数
- 个性化响应 
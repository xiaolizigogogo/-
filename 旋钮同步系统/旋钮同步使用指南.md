# 旋钮同步使用指南

## 🎯 问题解决

**问题**：遥控器调节后，旋钮刻度与实际参数不符

**解决方案**：智能同步模式，让旋钮刻度与参数保持同步

## 🚀 快速开始

### 1. 正常使用
- 设备启动后自动进入正常模式
- 旋钮调节：直接生效
- 遥控器调节：自动标记已修改的参数

### 2. 同步操作
1. **进入同步模式**：按 `bt1` 键
2. **查看状态**：观察LED和串口输出
3. **调节旋钮**：手动调节到正确位置
4. **退出同步**：再次按 `bt1` 键

### 3. 冲突解决
- **检测冲突**：系统自动检测参数冲突
- **LED提示**：红灯快闪表示需要同步
- **手动同步**：进入同步模式调节
- **重置状态**：按 `bt3` 键清除冲突标记

## 📋 按键功能

| 按键 | 功能 | 说明 |
|------|------|------|
| bt1 | 配对/同步切换 | 未配对时触发配对，已配对时切换同步模式 |
| bt2 | 舵机控制 | 舵机角度调节 |
| bt3 | 取消/重置 | 未配对时取消配对，同步模式下重置状态 |
| bt4 | 紧急停止 | 停止所有设备 |
| bt5 | 电机1控制 | 电机1开关 |
| bt6 | 电机2控制 | 电机2开关 |

## 💡 LED状态指示

| LED状态 | 含义 | 操作 |
|---------|------|------|
| 红灯慢闪 | 未配对 | 需要配对遥控器 |
| 黄灯快闪 | 等待配对 | 等待遥控器配对请求 |
| 绿灯常亮 | 配对成功 | 正常使用 |
| 红灯快闪 | 配对失败 | 重新配对 |
| 绿灯快闪 | 同步模式 | 可以调节旋钮 |

## 🔧 操作示例

### 示例1：遥控器调节后同步
1. 用遥控器调节电机速度
2. 发现旋钮刻度与实际速度不符
3. 按 `bt1` 进入同步模式
4. 观察串口输出，了解当前参数
5. 手动调节旋钮到正确位置
6. 再次按 `bt1` 退出同步模式

### 示例2：参数冲突解决
1. 系统检测到参数冲突
2. LED红灯快闪提示
3. 按 `bt1` 进入同步模式
4. 查看冲突的参数
5. 手动调节旋钮同步
6. 或按 `bt3` 重置冲突状态

### 示例3：批量参数同步
1. 多个参数被遥控器修改
2. 进入同步模式
3. 逐个调节对应的旋钮
4. 观察串口输出确认同步
5. 退出同步模式

## 📊 参数对应关系

| 编码器 | 功能 | 范围 | 单位 |
|--------|------|------|------|
| 编码器0 | 舵机摆动幅度 | 0-180 | 度 |
| 编码器1 | 舵机摆动速度 | 50-255 | 速度值 |
| 编码器2 | 舵机停留时间 | 0-25 | 秒 |
| 编码器3 | 舵机中位点 | 1100-2000 | 脉冲宽度 |
| 编码器4 | 电机1速度 | 50-255 | 速度值 |
| 编码器5 | 电机2速度 | 50-255 | 速度值 |
| 编码器6 | 电机3速度 | 50-255 | 速度值 |

## ⚠️ 注意事项

### 1. 操作顺序
- 先配对遥控器，再使用同步功能
- 同步模式下优先调节旋钮
- 退出同步模式前确认参数正确

### 2. 安全考虑
- 同步过程中设备可能移动
- 确保安全距离
- 紧急情况按 `bt4` 停止

### 3. 参数范围
- 旋钮调节有范围限制
- 超出范围会自动限制
- 注意参数的有效性

## 🔍 故障排除

### 问题1：同步模式无法进入
**原因**：设备未配对
**解决**：先完成遥控器配对

### 问题2：旋钮调节无反应
**原因**：编码器连接问题
**解决**：检查编码器接线

### 问题3：参数显示异常
**原因**：EEPROM数据损坏
**解决**：按 `bt3` 重置状态

### 问题4：LED指示混乱
**原因**：系统状态异常
**解决**：重启设备

## 📞 技术支持

如果遇到问题，请提供以下信息：
1. 设备型号和版本
2. 问题现象描述
3. 操作步骤
4. 串口输出信息
5. LED状态指示

## 📝 更新日志

### v1.0 (当前版本)
- 实现基础同步功能
- 支持7个编码器同步
- 提供LED状态指示
- 串口调试输出

### v1.1 (计划中)
- 数字显示同步
- 参数记忆功能
- 校准功能
- 用户体验优化

---

**提示**：首次使用建议先阅读完整的技术文档，熟悉系统功能后再进行操作。 